homework 9

computer organization and assembly language programming
22c:18/108
homework 9: due 4/24/95



problem 1: [9 points]

translate the following recursive pascal function into a
recursive mc68000 subroutine.
as you already know, this function computes  for any
integer  and any positive integer .


then calculate the size of the stack frame for each call
(you need not use the link and unlk instructions.)
suppose you were running your program on a machine with stack
size bounded above by 16k.
what is the maximum value of n for which your program would
be able to calculate power(m,n)?

problem 2: [8 points]



suppose that the above subroutine is called from the main program
with two addresses (each 32-bits), say ad1 and ad2,
passed as parameters via the run-time stack.
(a)
 show the run-time stack just after the subroutine
mystery has been called from the main program.
label each item in the stack and specify its size in bytes.
(b)
 show the run-time stack just after the first
movem.l instruction in mystery has been executed.
label each item in the stack and specify its size in bytes.
(c)
 show the run-time stack just after the rts instruction 
in mystery has been executed.
label each item in the stack and specify its size in bytes.
(d)
 describe precisely what the above subroutine does.

 

problem 3: [8 points]




given above is a recursive subroutine called strange.
two parameters, a 16-bit non-negative integer, say n, and a 32-bit
address, say a, are passed to the subroutine via the run-time stack.
as you might notice, the subroutine strange returns a
16-bit answer in (d0.w).

(a)
 draw the run-time stack showing one stack frame
clearly.
label all items in the stack frame and specify their sizes.

(b)
 suppose that the main program that calls the above
subroutine has the following storage declaration:

list: dc.w 1, 2, 3, 4

further suppose that the number 4 is passed in as n
and the address list is passed in as a 
to the subroutine strange.
what is the answer returned by strange in (d0.w)?

(c)
 now suppose that the main program contains the following
storage declaration:

list: dc.w 1, 2, 3, 4, 5

if the number 5 and the address list are passed into
strange, then will strange return an answer in (d0.w)?
if so, what is it? if not, why not?

(d)
 if 1000 bytes of stack space is available for the
stack frames of strange, then what is the largest value
of n for which the subroutine strange will produce a 
correct answer.