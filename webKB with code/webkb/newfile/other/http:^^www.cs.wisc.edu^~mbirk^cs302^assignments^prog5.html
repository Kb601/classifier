program 5 
  program 5  




 cs302 section 12
 ta: michael birk
 assigned: tue 10/29/96
 due: tue 11/5/96


for this assignment you will write a program that can print a simple
histogram, or bar chart, based on the contents of a string.  the chart shows
how many of each letter of the alphabet appeared in the string.  for
example, when run on the string "program four", the program
should print the following output:




   a:    1 *
   f:    1 *
   g:    1 *
   m:    1 *
   o:    2 **
   p:    1 *
   r:    3 ***
   u:    1 *

   11 letters
   scale factor: 1




note how only the letters are counted - punctuation, such as spaces, is
ignored.  also, upper- and lower- case letters are not distinguished.  the
chart shows the number of occurrences of each letter in both numerical and
"visual" form (a bunch of asterisks).

 how to do it 

the basic technique is to create an array of integers to hold the counts for
each letter.  the array should have 26 elements - one for each letter of the
alphabet.  the first element in the array will hold the number of a's, the
second element holds the number of b's, and so on.  you can achieve this
mapping of the letters 'a' - 'z' to the numbers 0 - 25 with the following
functions:


   int char_to_int (char ch)
   {
      return tolower (ch) - 'a';
   }

   char int_to_char (int n)
   {
       return n + 'a';
   }


these functions rely on the fact that characters are really just integers,
and the compiler will translate from one to the other automatically.



your program should go through the entire input string
character-by-character, and if it is a letter, add 1 to the count stored in
the element of the array that corresponds to that letter.

 what to do 

there are some other requirements for this assignment.  you must do these,
but i highly recommend that you get the basics working first.  only work on
these after you can actually print out a simple histogram!

 counting the total number of characters 

you must count the total number of letters and print out this information. 
see the example below.

 scaling the bar chart 

if any character occurs more than 50 times, you must scale all of the bars
in the chart so that the longest bar is printed with 50 stars.  you should
also print out the scaling factor.  for example, if the input string was:


   aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbbb
   ccccccccccccccccccc
   d
   eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
   eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
   fffffffffffff
   gggggg


then your program should print:


   a:   37 *****************
   b:   22 **********
   c:   19 *********
   d:    1
   e:  104 **************************************************
   f:   13 ******
   g:    6 **

   26 letters
   scale factor: 0.480769


the scaling factor is just 1.0 if the most frequent character occurs at most
50 times.  if it appears, say 104 times, then the scaling factor would be
50.0 / 104, or 0.480769.  you would then multiply this scaling factor by the
frequency of each character to compute the number of stars to print.

 using functions 

your program must be properly structured using functions.  this means that
different tasks or subproblems are performed in different functions. 
information is passed in and out of the the functions via the parameters and
return value.



to help push you in the right direction in this regard, i am instituting a
few rules for this assignment.




   no global variables may be used.  all variables must be defined
       within a function definition.
   no function may contain more than 15 statements (variable
       definitions, cin/cout, if, for, etc.)  most should have a lot fewer
       than that.  if you're not sure if you're complying with this rule 
       then ask me.
   no function may contain more than one loop.  (but of course it can
       call another function which has a loop.)
   only use simple counting loops (simple for loops).




in addition, these rules always apply:


   you must use proper indentation; indent the body of composite
       statements such as if, for, etc., and line up your curly braces!  if
       you aren't sure then follow the book's guideline!
   all functions must be documented using comments.  these
       comments should explain what the function does and what the meanings
       of the parameters and return values are.


 reading the input from a file 

eventually, after you get everything else working, you must change your
program so that it get its input from a file.  it should ask the user for
the name of the file, read the file, and use this as the input. 
fortunately, this should be really easy, since i am providing you with a
function that reads an entire file as a single string.  the function has the
following prototype:


     string read_file (string filename)


this function reads the file filename and returns its contents as
a single string.  (this string may contain many lines, which are separated
by special newline and carriage return characters.  your program should
just ignore these, like all non-letters.)  if there was an error (for
example, the file didn't exist) then it returns the empty string. 



the read_file function is defined in the object file 
r:\public\mbirk\readfile.obj.  this means
that you will have to add this to the project window.  the project window
should contain three files: prog4.cpp,
r:\public\mbirk\string.obj, and
r:\public\mbirk\readfile.obj.

 what to hand in 

hand in your source code, as well as the output of your program on the
following test cases: (note: don't hand in the test cases themselves)




   test 1
   test 2




also, here are a couple more test cases and their result, which you can
use to see if your implementation is working.  do not hand these in.




   test 3
       (output)
   test 4
       (output)



 mbirk@cs.wisc.edu